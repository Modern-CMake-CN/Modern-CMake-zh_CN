
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Running CMake · Modern CMake</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Henry Schreiner">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-term/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="dodonot.html" />
    
    
    <link rel="prev" href="installing.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../">
            
                <a href="../../">
            
                    
                    现代的 CMake 的介绍
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="installing.html">
            
                <a href="installing.html">
            
                    
                    Installing CMake
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="running.html">
            
                <a href="running.html">
            
                    
                    Running CMake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="dodonot.html">
            
                <a href="dodonot.html">
            
                    
                    Do's and Don'ts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="newcmake.html">
            
                <a href="newcmake.html">
            
                    
                    What's new in CMake
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../basics.html">
            
                <a href="../basics.html">
            
                    
                    基础知识简介
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../basics/variables.html">
            
                <a href="../basics/variables.html">
            
                    
                    Variables and the Cache
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../basics/functions.html">
            
                <a href="../basics/functions.html">
            
                    
                    Programming in CMake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../basics/comms.html">
            
                <a href="../basics/comms.html">
            
                    
                    Communicating with your code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../basics/structure.html">
            
                <a href="../basics/structure.html">
            
                    
                    How to Structure Your Project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../basics/programs.html">
            
                <a href="../basics/programs.html">
            
                    
                    Running Other Programs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../basics/example.html">
            
                <a href="../basics/example.html">
            
                    
                    A Simple Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../features.html">
            
                <a href="../features.html">
            
                    
                    Adding Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../features/cpp11.html">
            
                <a href="../features/cpp11.html">
            
                    
                    C++11 and Beyond
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../features/small.html">
            
                <a href="../features/small.html">
            
                    
                    Small but common needs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../features/utilities.html">
            
                <a href="../features/utilities.html">
            
                    
                    Utilities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../features/modules.html">
            
                <a href="../features/modules.html">
            
                    
                    Useful modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../features/ides.html">
            
                <a href="../features/ides.html">
            
                    
                    IDEs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../features/debug.html">
            
                <a href="../features/debug.html">
            
                    
                    Debugging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../projects.html">
            
                <a href="../projects.html">
            
                    
                    包含子项目
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../projects/submodule.html">
            
                <a href="../projects/submodule.html">
            
                    
                    Submodule
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../projects/download.html">
            
                <a href="../projects/download.html">
            
                    
                    DownloadProject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../projects/fetch.html">
            
                <a href="../projects/fetch.html">
            
                    
                    获取软件包（FetchContent）(CMake 3.11+)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../testing.html">
            
                <a href="../testing.html">
            
                    
                    Testing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../testing/googletest.html">
            
                <a href="../testing/googletest.html">
            
                    
                    GoogleTest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../testing/catch.html">
            
                <a href="../testing/catch.html">
            
                    
                    Catch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../install.html">
            
                <a href="../install.html">
            
                    
                    Exporting and Installing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../install/installing.html">
            
                <a href="../install/installing.html">
            
                    
                    Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../install/exporting.html">
            
                <a href="../install/exporting.html">
            
                    
                    Exporting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../install/packaging.html">
            
                <a href="../install/packaging.html">
            
                    
                    Packaging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../packages.html">
            
                <a href="../packages.html">
            
                    
                    Looking for Libraries (Packages)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../packages/CUDA.html">
            
                <a href="../packages/CUDA.html">
            
                    
                    CUDA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../packages/OpenMP.html">
            
                <a href="../packages/OpenMP.html">
            
                    
                    OpenMP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../packages/Boost.html">
            
                <a href="../packages/Boost.html">
            
                    
                    Boost
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../packages/MPI.html">
            
                <a href="../packages/MPI.html">
            
                    
                    MPI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../packages/ROOT.html">
            
                <a href="../packages/ROOT.html">
            
                    
                    ROOT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../../examples/root-usefile/">
            
                <a href="../../examples/root-usefile/">
            
                    
                    UseFile Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="../../examples/root-simple/">
            
                <a href="../../examples/root-simple/">
            
                    
                    Simple Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="../../examples/root-dict/">
            
                <a href="../../examples/root-dict/">
            
                    
                    Dictionary Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../packages/Minuit2.html">
            
                <a href="../packages/Minuit2.html">
            
                    
                    Minuit2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Running CMake</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="running-cmake">Running CMake</h1>
<p>Before writing CMake, let&apos;s make sure you know how to run it to make things. This is true for almost all CMake projects, which is almost everything.</p>
<h2 id="building-a-project">Building a project</h2>
<p>Unless otherwise noted, you should always make a build directory and build from there. You can technically do an in-source build, but you&apos;ll have to be careful not to overwrite files or add them to git, so just don&apos;t.</p>
<p>Here&apos;s the Classic CMake Build Procedure (TM):</p>
<p><pre class="term t-default t-fade"><button class="btn t-copy" data-clipboard-text="mkdir build
cd build
cmake ..
make"><svg class="octicon octicon-clippy" viewbox="0 0 14 16" version="1.1" width="14" height="14" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">mkdir build</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">cd build</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">cmake ..</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">make</span>
</span></pre></p>
<p>You can replace the make line with <code>cmake --build .</code> if you&apos;d like, and it will call <code>make</code> or whatever build tool you are using. If you are using a newer version of CMake (which you usually should be, except for checking compatibility with older CMake), you can instead do this:</p>
<p><pre class="term t-default t-fade"><button class="btn t-copy" data-clipboard-text="cmake -S . -B build
cmake --build build"><svg class="octicon octicon-clippy" viewbox="0 0 14 16" version="1.1" width="14" height="14" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">cmake -S . -B build</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">cmake --build build</span>
</span></pre></p>
<p>Any <em>one</em> of these commands will install:</p>
<p><pre class="term t-default t-fade"><button class="btn t-copy" data-clipboard-text="From the build directory (pick one)
make install
cmake --build . --target install
cmake --install . # CMake 3.15+ only
From the source directory (pick one)
make -C build install
cmake --build build --target install
cmake --install build # CMake 3.15+ only"><svg class="octicon octicon-clippy" viewbox="0 0 14 16" version="1.1" width="14" height="14" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button><span class="t-line t-prompt-line"><span class="t-delimiter"># </span><span class="t-command">From the build directory (pick one)</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">make install</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">cmake --build . --target install</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">cmake --install . # CMake 3.15+ only</span>
</span><span class="t-line">
</span><span class="t-line t-prompt-line"><span class="t-delimiter"># </span><span class="t-command">From the source directory (pick one)</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">make -C build install</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">cmake --build build --target install</span>
</span><span class="t-line t-prompt-line"><span class="t-prompt">~/package </span><span class="t-delimiter">$ </span><span class="t-command">cmake --install build # CMake 3.15+ only</span>
</span></pre></p>
<p>So which set of methods should you use? As long as you <em>do not forget</em> to type the build directory as the argument, staying out of the build directory is shorter, and making source changes is easier from the source directory. You should try to get used to using <code>--build</code>, as that will free you from using only <code>make</code> to build. Note that working from the build directory is historically much more common, and some tools and commands (including CTest) still require running from the build directory.</p>
<p>Just to clarify, you can point CMake at either the source directory <em>from the build directory</em>, or at an <em>existing</em> build directory from anywhere.</p>
<p>If you use <code>cmake --build</code> instead of directly calling the underlying build system, you can use <code>-v</code> for verbose builds (CMake 3.14+), <code>-j N</code> for parallel builds on N cores (CMake 3.12+), and <code>--target</code> (any version of CMake) or <code>-t</code> (CMake 3.15+) to pick a target. Otherwise, these commands vary between build systems, such as <code>VERBOSE=1 make</code> and <code>ninja -v</code>. You can instead use the environment variables for these, as well, such as <code>CMAKE_BUILD_PARALLEL_LEVEL</code> (CMake 3.12+) and <code>VERBOSE</code> (CMake 3.14+).</p>
<h2 id="picking-a-compiler">Picking a compiler</h2>
<p>Selecting a compiler must be done on the first run in an empty directory. It&apos;s not CMake syntax per se, but you might not be familiar with it. To pick Clang:</p>
<p><pre class="term t-default t-fade"><button class="btn t-copy" data-clipboard-text="CC=clang CXX=clang++ cmake .."><svg class="octicon octicon-clippy" viewbox="0 0 14 16" version="1.1" width="14" height="14" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">CC=clang CXX=clang++ cmake ..</span>
</span></pre></p>
<p>That sets the environment variables in bash for CC and CXX, and CMake will respect those variables. This sets it just for that one line, but that&apos;s the only time you&apos;ll need those; afterwards CMake continues to use the paths it deduces from those values.</p>
<h2 id="picking-a-generator">Picking a generator</h2>
<p>You can build with a variety of tools; <code>make</code> is usually the default. To see all the tools CMake knows about on your system, run</p>
<p><pre class="term t-default t-fade"><button class="btn t-copy" data-clipboard-text="cmake --help"><svg class="octicon octicon-clippy" viewbox="0 0 14 16" version="1.1" width="14" height="14" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">cmake --help</span>
</span></pre></p>
<p>And you can pick a tool with <code>-G&quot;My Tool&quot;</code> (quotes only needed if spaces are in the tool name). You should pick a tool on your first CMake call in a directory, just like the compiler. Feel free to have several build directories, like <code>build/</code> and <code>buildXcode</code>.
You can set the environment variable <code>CMAKE_GENERATOR</code> to control the default generator (CMake 3.15+).
Note that makefiles will only run in parallel if you explicilty pass a number of threads, such as <code>make -j2</code>, while Ninja will automatically run in parallel. You can directly pass a parallelization option such as <code>-j2</code> to the <code>cmake --build .</code> command in recent versions of CMake.</p>
<h2 id="setting-options">Setting options</h2>
<p>You set options in CMake with <code>-D</code>. You can see a list of options with <code>-L</code>, or a list with human-readable help with <code>-LH</code>. If you don&apos;t list the source/build directory, the listing will not rerun CMake (<code>cmake -L</code> instead of <code>cmake -L .</code>).</p>
<h2 id="verbose-and-partial-builds">Verbose and partial builds</h2>
<p>Again, not really CMake, but if you are using a command line build tool like <code>make</code>, you can get verbose builds:</p>
<p><pre class="term t-default t-fade"><button class="btn t-copy" data-clipboard-text="VERBOSE=1 make"><svg class="octicon octicon-clippy" viewbox="0 0 14 16" version="1.1" width="14" height="14" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg></button><span class="t-line t-prompt-line"><span class="t-prompt">~/package/build </span><span class="t-delimiter">$ </span><span class="t-command">VERBOSE=1 make</span>
</span></pre></p>
<p>You can actually write <code>make VERBOSE=1</code>, and make will also do the right thing, though that&apos;s a feature of <code>make</code> and not the command line in general.</p>
<p>You can also build just a part of a build by specifying a target, such as the name of a library or executable you&apos;ve defined in CMake, and make will just build that target.</p>
<h2 id="options">Options</h2>
<p>CMake has support for cached options. A Variable in CMake can be marked as &quot;cached&quot;, which means it will be written to the cache (a file called <code>CMakeCache.txt</code> in the build directory) when it is encountered. You can preset (or change) the value of a cached option on the command line with <code>-D</code>. When CMake looks for a cached variable, it will use the existing value and will not overwrite it.</p>
<h3 id="standard-options">Standard options</h3>
<p>These are common CMake options to most packages:</p>
<ul>
<li><code>-DCMAKE_BUILD_TYPE=</code> Pick from Release, RelWithDebInfo, Debug, or sometimes more.</li>
<li><code>-DCMAKE_INSTALL_PREFIX=</code> The location to install to. System install on UNIX would often be <code>/usr/local</code> (the default), user directories are often <code>~/.local</code>, or you can pick a folder.</li>
<li><code>-DBUILD_SHARED_LIBS=</code> You can set this <code>ON</code> or <code>OFF</code> to control the default for shared libraries (the author can pick one vs. the other explicitly instead of using the default, though)</li>
<li><code>-DBUILD_TESTING=</code> This is a common name for enabling tests, not all packages use it, though, sometimes with good reason.</li>
</ul>
<h2 id="debugging-your-cmake-files">Debugging your CMake files</h2>
<p>We&apos;ve already mentioned verbose output for the build, but you can also see verbose CMake configure output too. The <code>--trace</code> option will print every line of CMake that is run. Since this is very verbose, CMake 3.7 added <code>--trace-source=&quot;filename&quot;</code>, which will print out every executed line of just the file you are interested in when it runs. If you select the name of the file you are interested in debugging (usually by selecting the parent directory when debugging a CMakeLists.txt, since all of those have the same name), you can just see the lines that run in that file. Very useful!</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="installing.html" class="navigation navigation-prev " aria-label="Previous page: Installing CMake">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="dodonot.html" class="navigation navigation-next " aria-label="Next page: Do's and Don'ts">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Running CMake","level":"1.2.2","depth":2,"next":{"title":"Do's and Don'ts","level":"1.2.3","depth":2,"path":"chapters/intro/dodonot.md","ref":"chapters/intro/dodonot.md","articles":[]},"previous":{"title":"Installing CMake","level":"1.2.1","depth":2,"path":"chapters/intro/installing.md","ref":"chapters/intro/installing.md","articles":[]},"dir":"ltr"},"config":{"plugins":["replace","hints","term","include-codeblock","ace"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"ace":{},"search":{},"term":{"copyButtons":true,"fade":true,"lineStyles":true,"prompt":"(?<prompt>[^\\$^#^:]*)(?<pathsep>:?)(?<path>[^\\$^#]*?)(?<delimiter>[\\$#] )(?<command>.*)$","style":"default"},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"replace":{"substitutes":[{"pattern":"«cmake:([^`^»]+)»","flags":"g","substitute":"[$1](https://cmake.org/cmake/help/latest/manual/cmake-$1.7.html)"},{"pattern":"«command:`?([^`^»]+)`?»","flags":"g","substitute":"[`$1`](https://cmake.org/cmake/help/latest/command/$1.html)"},{"pattern":"«envvar:`?([^`^»]+)`?»","flags":"g","substitute":"[`$1`](https://cmake.org/cmake/help/latest/envvar/$1.html)"},{"pattern":"«module:([^`^»]+)»","flags":"g","substitute":"[$1](https://cmake.org/cmake/help/latest/module/$1.html)"},{"pattern":"«policy:([^`^»]+)»","flags":"g","substitute":"[$1](https://cmake.org/cmake/help/latest/policy/$1.html)"},{"pattern":"«variable:`?([^`^»]+)`?»","flags":"g","substitute":"[`$1`](https://cmake.org/cmake/help/latest//$1.html)"},{"pattern":"«prop:([^:]+):`?([^`^»]+)`?»","flags":"g","substitute":"[`$2`](https://cmake.org/cmake/help/latest/prop_$1/$2.html)"}]},"include-codeblock":{"check":false,"edit":false,"fixlang":true,"lang":"","template":"default","theme":"chrome","unindent":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Henry Schreiner","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README_GitBook.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Modern CMake","gitbook":"*","description":"A guide to writing simple, powerful, and clean CMake 3.1+ builds."},"file":{"path":"chapters/intro/running.md","mtime":"2021-07-22T12:41:16.719Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-07-22T12:42:03.782Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-term/clipboard.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-term/initclip.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-term/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

